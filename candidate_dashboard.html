<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Candidate Dashboard</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
<nav class="navbar">
    <div class="logo" onclick="goHome()">JobPortal</div>
    <ul class="nav-links"><li><a href="index.html">Logout</a></li></ul>
</nav>

<section>
<h2>Candidate Dashboard</h2>
<div class="cards">
    <div class="card" onclick="showAppliedJobs()">Applied Jobs</div>
    <div class="card" onclick="showMatchingJobs()">Matching Jobs</div>
    <div class="card" onclick="showShortlistedJobs()">Shortlisted Jobs</div>
    <div class="card" onclick="showMessages()">Messages</div>
</div>
<div id="content"></div>
</section>

<script>
const urlParams = new URLSearchParams(window.location.search);
const email = urlParams.get('email');

function goHome(){ window.location.href='index.html'; }

async function showAppliedJobs(){
    try{
        const res = await axios.get(`https://your-render-backend-url/candidate/applied_jobs?email=${email}`);
        let html = '';
        res.data.forEach(job => {
            html += `<div class="job-card">
                        <h3>${job.title}</h3>
                        <p>${job.company}</p>
                        <p>Status: ${job.status}</p>
                     </div>`;
        });
        document.getElementById('content').innerHTML = html || '<p>No applied jobs</p>';
    }catch(err){ document.getElementById('content').innerHTML='Error loading applied jobs'; }
}

function showMatchingJobs(){ document.getElementById('content').innerHTML='<p>Matching jobs placeholder</p>'; }
function showShortlistedJobs(){ document.getElementById('content').innerHTML='<p>Shortlisted jobs placeholder</p>'; }
function showMessages(){ document.getElementById('content').innerHTML='<p>Messages placeholder</p>'; }
</script>
</body>
</html>
